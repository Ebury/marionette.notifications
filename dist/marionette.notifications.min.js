"use strict";var oldConstructor=Marionette.Application;Marionette.Application=Marionette.Application.extend({notificationTemplate:".js-notification-template",notificationViewEl:".js-notifications-view",notificationCloseSelector:".js-notification-close",notificationAutoremove:!0,notificationAutoremoveAfter:10,notificationAnimation:!0,get _notificationModel(){return Backbone.Model.extend({defaults:{type:null,message:null}})},get _notificationCollection(){return Backbone.Collection.extend({model:this._notificationModel})},get _notificationView(){return Marionette.ItemView.extend({getTemplate:function(){return this.options.notificationTemplate},ui:{closeButton:this.notificationCloseSelector},events:{"click @ui.closeButton":"close"},init:function(){var t=this;this.options.notificationAnimation&&(this.$el.hide(),this.$el.slideDown()),this.options.notificationAutoremove&&(this.to=setTimeout(function(){t.close()},1e3*this.options.notificationAutoremoveAfter))},close:function(t){clearTimeout(this.to),t&&t.stopPropagation();var i=this;this.options.notificationAnimation?this.$el.slideUp(function(){i.model.destroy()}):i.model.destroy()}})},get _notificationsView(){return Marionette.CollectionView.extend({childView:this._notificationView,onAddChild:function(t){t.init()},childViewOptions:function(){return{notificationTemplate:this.options.notificationTemplate,notificationAnimation:this.options.notificationAnimation,notificationAutoremove:this.options.notificationAnimation,notificationAutoremoveAfter:this.options.notificationAutoremoveAfter}}})},createNotificationsView:function(t){t=t||{};var i=_.extend({el:this.notificationViewEl,collection:new this._notificationCollection,notificationTemplate:this.notificationTemplate,notificationAnimation:this.notificationAnimation,notificationAutoremove:this.notificationAutoremove,notificationAutoremoveAfter:this.notificationAutoremoveAfter},t);return this.notificationsView=new this._notificationsView(i),this.notificationsView.render(),this.notificationsView},addNotification:function(t,i){this.notificationsView&&this.notificationsView.collection.unshift(new this._notificationModel({type:t,message:i}))},constructor:function(){oldConstructor.apply(this,arguments),this.createNotificationsView(arguments)}});
//# sourceMappingURL=marionette.notifications.min.js.map
